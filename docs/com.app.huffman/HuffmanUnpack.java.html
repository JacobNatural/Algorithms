<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pl"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HuffmanUnpack.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Algorithms_Maven</a> &gt; <a href="index.source.html" class="el_package">com.app.huffman</a> &gt; <span class="el_source">HuffmanUnpack.java</span></div><h1>HuffmanUnpack.java</h1><pre class="source lang-java linenums">package com.app.huffman;
import lombok.AllArgsConstructor;

import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.LinkedHashSet;
import java.util.Map;
import java.util.stream.Collectors;


/**
 * The type Huffman unpack.
 */
<span class="fc" id="L14">@AllArgsConstructor</span>
public class HuffmanUnpack {
    private final Map&lt;Character, String&gt; code;


    /**
     * Of huffman unpack.
     *
     * @param code the code
     * @return the huffman unpack
     */
    public static HuffmanUnpack of(Map&lt;Character, String&gt; code){

<span class="fc bfc" id="L27" title="All 2 branches covered.">        if(code == null){</span>
<span class="fc" id="L28">            throw new IllegalArgumentException(&quot;Code map is null&quot;);</span>
        }

<span class="fc bfc" id="L31" title="All 2 branches covered.">        if(code.isEmpty()){</span>
<span class="fc" id="L32">            throw new IllegalArgumentException(&quot;Code map is empty&quot;);</span>
        }

<span class="fc" id="L35">        return new HuffmanUnpack(new LinkedHashMap&lt;&gt;(code));</span>
    }

    /**
     * Unpack string.
     *
     * @param binaryCode the binary code
     * @return the string
     */
    public String unpack(String binaryCode) {

<span class="fc bfc" id="L46" title="All 2 branches covered.">        if(binaryCode == null){</span>
<span class="fc" id="L47">            throw new IllegalArgumentException(&quot;Binary code is null&quot;);</span>
        }

<span class="fc bfc" id="L50" title="All 2 branches covered.">        if(binaryCode.isEmpty()){</span>
<span class="fc" id="L51">            throw new IllegalArgumentException(&quot;Binary code is empty&quot;);</span>
        }

<span class="fc bfc" id="L54" title="All 2 branches covered.">        if (!binaryCode.matches(&quot;[01]+&quot;)) {</span>
<span class="fc" id="L55">            throw new IllegalArgumentException(&quot;Invalid binary code&quot;);</span>
        }
<span class="fc" id="L57">        System.out.println(code);</span>

<span class="fc" id="L59">        var sortedMap = code</span>
<span class="fc" id="L60">                .entrySet()</span>
<span class="fc" id="L61">                .stream()</span>
<span class="fc" id="L62">                .sorted((map1, map2) -&gt; ( map1.getValue().compareTo(map2.getValue())))</span>
<span class="fc" id="L63">                .collect(Collectors.toCollection(LinkedHashSet::new));</span>

<span class="fc bfc" id="L65" title="All 2 branches covered.">        for(var s: sortedMap){</span>
<span class="fc" id="L66">            System.out.println(s.getValue() + &quot; &quot; + s.getKey());</span>
<span class="fc" id="L67">            binaryCode = binaryCode.replaceAll(s.getValue(), String.valueOf(s.getKey()));</span>
<span class="fc" id="L68">        }</span>
<span class="fc" id="L69">        return binaryCode;</span>

    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>